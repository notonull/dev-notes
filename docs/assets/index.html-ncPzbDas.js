import{_ as s,e as a,f as i,o as t}from"./app-Ci8IS3Fz.js";const n={};function l(o,e){return t(),a("div",null,e[0]||(e[0]=[i(`<h2 id="问题处理" tabindex="-1"><a class="header-anchor" href="#问题处理"><span>问题处理</span></a></h2><p>似乎对于linux其他的操作系统出现类似问题也可以通过擦除元数据的方式解决问题（并没有验证但是原理大概是一样的）</p><p>参考链接：</p><p>https://ixsystems.atlassian.net/browse/NAS-131890</p><p>https://www.reddit.com/r/truenas/comments/1b13tf9/scale_clean_install_bootpool_not_found/</p><p>该问题出现在我尝试安装 TrueNAS SCALE 时，特别是在升级或安装过程中的某个阶段，系统未能成功导入 <em><strong>*boot-pool*</strong></em>。尽管安装过程中没有错误提示，但在启动时无法找到启动池，导致无法正常启动操作系统。</p><h3 id="详细情况" tabindex="-1"><a class="header-anchor" href="#详细情况"><span>详细情况：</span></a></h3><ul><li><p><em><strong>*安装步骤*</strong></em>：我按照官方文档进行安装，使用的是 <em><strong>*TrueNAS SCALE 24.10.1*</strong></em> 镜像。</p></li><li><p><strong>硬件环境</strong></p><ul><li>系统：SDD 安装过程中未选择任何额外的存储池，仅使用默认的启动池。</li></ul></li><li><p><em><strong>*错误信息*</strong></em>：启动时出现如下错误信息：cannot import &#39;boot-pool&#39;: no such pool available</p></li></ul><h3 id="尝试的解决方法" tabindex="-1"><a class="header-anchor" href="#尝试的解决方法"><span>尝试的解决方法</span></a></h3><ol><li><em><strong>*重新安装*</strong></em>：多次尝试重新安装，使用不同的磁盘进行测试，但问题仍然存在。</li><li><em><strong>*检查 ZFS 池*</strong></em>：使用 <code>zpool import</code> 命令检查可用池，但返回的结果没有显示任何有效的池。</li></ol><h3 id="问题原因" tabindex="-1"><a class="header-anchor" href="#问题原因"><span>问题原因：</span></a></h3><ul><li><em><strong>*ZFS 元数据*</strong></em> 残留导致的启动池问题，可能是安装过程中未完全清除磁盘上的旧数据或分区信息，导致系统无法找到正确的 <em><strong>*boot-pool*</strong></em>。</li><li>可能是非全新硬盘有历史元数据即便是重新分区格式依旧存在问题</li></ul><h3 id="解决办法" tabindex="-1"><a class="header-anchor" href="#解决办法"><span>解决办法：</span></a></h3><p>* 使用ISO启动盘启动</p><p>然后系统进入 <em><strong>*initramfs shell*</strong></em></p><p>*查看磁盘信息查找系统盘</p><p>即你用于安装 TrueNAS 的磁盘（比如 <code>/dev/sda</code> 或 <code>/dev/nvme0n1</code>），这是你要清除的磁盘。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">lsblk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>*注意：清除元数据会导致磁盘信息丢失，如有重要信切记备份后再执行操作</p><p>* <em><strong>*清除磁盘元数据*</strong></em></p><p>使用 <code>wipefs</code> 清除磁盘上的所有文件系统标签：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># HDD 硬盘</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wipefs</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --all</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sda</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># SSD 硬盘</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> blkdiscard</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sda</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exit</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>*重新安装或升级系统 问题会得到解决</p><p># 其实解决方案并不理想，如链接所说，如果可以再升级或安装过程中弹出有效提示用户进行清除此问题就没那么难以解决</p>`,26)]))}const A=s(n,[["render",l],["__file","index.html.vue"]]),p=JSON.parse(`{"path":"/blog/nuukm0xf/","title":"TrueNAS SCALE 24.10.1 安装后出现 “cannot import boot-pool no such pool available” 错误","lang":"zh-CN","frontmatter":{"title":"TrueNAS SCALE 24.10.1 安装后出现 “cannot import boot-pool no such pool available” 错误","copyright":"CC-BY-4.0","tags":["linux","truenas"],"createTime":"2025/04/13 01:33:05","permalink":"/blog/nuukm0xf/","description":"问题处理 似乎对于linux其他的操作系统出现类似问题也可以通过擦除元数据的方式解决问题（并没有验证但是原理大概是一样的） 参考链接： https://ixsystems.atlassian.net/browse/NAS-131890 https://www.reddit.com/r/truenas/comments/1b13tf9/scale_cle...","head":[["meta",{"property":"og:url","content":"https://notonull.github.io/logic-hub/blog/nuukm0xf/"}],["meta",{"property":"og:site_name","content":"aGeng 's Blog"}],["meta",{"property":"og:title","content":"TrueNAS SCALE 24.10.1 安装后出现 “cannot import boot-pool no such pool available” 错误"}],["meta",{"property":"og:description","content":"问题处理 似乎对于linux其他的操作系统出现类似问题也可以通过擦除元数据的方式解决问题（并没有验证但是原理大概是一样的） 参考链接： https://ixsystems.atlassian.net/browse/NAS-131890 https://www.reddit.com/r/truenas/comments/1b13tf9/scale_cle..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"linux"}],["meta",{"property":"article:tag","content":"truenas"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"TrueNAS SCALE 24.10.1 安装后出现 “cannot import boot-pool no such pool available” 错误\\",\\"image\\":[\\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\\",\\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.1,"words":629},"git":{},"autoDesc":true,"filePathRelative":"问题记录/TrueNAS SCALE 24.10.1 安装后出现 “cannot import boot-pool no such pool available” 错误.md","categoryList":[{"id":"4acd14","sort":10004,"name":"问题记录"}]}`);export{A as comp,p as data};
